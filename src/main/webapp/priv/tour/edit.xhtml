<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:agency='http://xmlns.jcp.org/jsf/composite/ezcomp/agency'
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <ui:composition template="/WEB-INF/includes/morpheus/template.xhtml">
        <ui:define name="breadcrumbs">
            <h:form>
                <p:breadCrumb>
                    <p:menuitem value="JTM" outcome="/priv/index" />
                    <p:menuitem value="Servicios" outcome="/priv/tour/list" />
                    <p:menuitem value="Filtro" outcome="/priv/tour/list" />
                </p:breadCrumb>
            </h:form>
        </ui:define>
        <ui:define name="content">
            <div class='card'>
                <h5>Editar Tour: #{tourEditManager.tour.name}</h5>
                <h:form>
                    <p:outputPanel id="contentPanel">
                        <p:tabView scrollable="true">
                            <p:tab>
                                <f:facet name="title">
                                    <i class="fas fa-info-circle"></i>&nbsp;General
                                </f:facet>
                                <p:outputPanel styleClass="outputPanel informacionGeneralPanel">
                                    <div class='card'>
                                        <h5>Información General</h5>
                                        <p:panelGrid columns="2"
                                                     columnClasses="labelColumn, inputColumn"
                                                     layout="grid"
                                                     class='ui-noborder'>
                                            <p:outputLabel for="name"
                                                           value="Nombre"/>
                                            <p:inputText id="name"
                                                         required="true"
                                                         placeholder="Nombre de Tour"
                                                         maxlength="100"
                                                         requiredMessage="Campo nombre tour requerido"
                                                         value="#{tourEditManager.tour.name}"/>
                                            <p:outputLabel for="shortDesc"
                                                           value="Descripción corta"/>
                                            <p:inputTextarea id="shortDesc"
                                                             rows="2"
                                                             maxlength="200"
                                                             required="true"
                                                             placeholder="Descripción que aparecerá en la búsqueda de tours"
                                                             requiredMessage="Campo descripción corta requerido"
                                                             value="#{tourEditManager.tour.shortdescription}"/>
                                            <p:outputLabel for="description"
                                                           value="Descripción"/>
                                            <p:inputTextarea id="description"
                                                             rows="5"
                                                             maxlength="490"
                                                             placeholder="Descripción larga que aparecerá en la vista completa del tour"
                                                             required="true"
                                                             requiredMessage="Campo descripción larga requerido"
                                                             value="#{tourEditManager.tour.description}"/>
                                            <p:outputLabel for="grupo"
                                                           value="Nombre"/>
                                            <p:inputText id="grupo"
                                                         required="true"
                                                         placeholder="Grupo"
                                                         maxlength="100"
                                                         requiredMessage="Campo grupo tour requerido"
                                                         value="#{tourEditManager.tour.grupo}"/>
                                            <p:outputLabel for="inicialesConfirma"
                                                           value="Iniciales Confirma"/>
                                            <p:inputText id="inicialesConfirma"
                                                         required="true"
                                                         placeholder="Iniciales Confirma"
                                                         maxlength="100"
                                                         requiredMessage="Campo iniciales confirma requerido"
                                                         value="#{tourEditManager.tour.inicialesConfirma}"/>
                                            <p:outputLabel for="active"
                                                           value="Activo"/>
                                            <p:selectBooleanButton id="active"
                                                                   onLabel="Si"
                                                                   offLabel="No"
                                                                   styleClass='defaultButton'
                                                                   value="#{tourEditManager.tour.active}">
                                                <p:ajax process="@this"/>
                                            </p:selectBooleanButton>
                                            <p:outputLabel for="topTour"
                                                           styleClass="control-label col-sm-4"
                                                           value="Top Tour"/>
                                            <p:selectBooleanButton id="topTour"
                                                                   onLabel="Si"
                                                                   offLabel="No"
                                                                   styleClass='defaultButton'
                                                                   value="#{tourEditManager.tour.topTour}"/>
                                            <p:outputLabel for="providerSelect"
                                                           value="Proveedor"/>
                                            <p:inputText id='providerSelect'/>
                                        </p:panelGrid>
                                    </div>
                                </p:outputPanel>


                            </p:tab>
                            <p:tab>
                                <f:facet name="title">
                                    <i class="fas fa-dollar-sign"></i>&nbsp;Precios
                                </f:facet>
                                <p:outputPanel styleClass="outputPanel preciosPanel">
                                    <div class='card'>
                                        <h5>Precios</h5>
                                        <p:fieldset legend="General">
                                            <p:panelGrid columns="2"
                                                         columnClasses="labelColumn, inputColumn"
                                                         class='ui-noborder'
                                                         layout="grid">
                                                <p:outputLabel for="adultprice"
                                                               value="Precio Adulto"/>
                                                <p:inputNumber id="adultprice"
                                                               decimalSeparator="."
                                                               thousandSeparator=","
                                                               decimalPlaces="2"
                                                               required="true"
                                                               placeholder="Precio Adulto"
                                                               requiredMessage="Campo precio adulto requerido"
                                                               emptyValue="$"
                                                               symbol="$"
                                                               value="#{tourEditManager.tour.adultPrice}"
                                                               minValue="0">
                                                    <p:ajax process="@this"/>
                                                </p:inputNumber>
                                                <p:outputLabel for="childprice"
                                                               value="Precio Niño"/>
                                                <p:inputNumber id="childprice"
                                                               decimalPlaces="2"
                                                               decimalSeparator="."
                                                               thousandSeparator=","
                                                               required="true"
                                                               placeholder="Precio Niño"
                                                               requiredMessage="Campo precio niño requerido"
                                                               emptyValue="$"
                                                               symbol="$"
                                                               value="#{tourEditManager.tour.childPrice}"
                                                               minValue="0"/>
                                                <p:outputLabel for="childDescription"
                                                               value="Descripción niño"/>
                                                <p:inputText id="childDescription"
                                                             required="true"

                                                             placeholder="Describe lo que es un niño"
                                                             requiredMessage="Campo descripción niño"
                                                             value="#{tourEditManager.tour.childrenDescription}"/>
                                                <p:outputLabel for="infantprice"
                                                               value="Precio Infante"/>
                                                <p:inputNumber id="infantprice"
                                                               decimalPlaces="2"
                                                               decimalSeparator="."
                                                               thousandSeparator=","
                                                               required="true"
                                                               emptyValue="$"
                                                               symbol="$"
                                                               placeholder="Precio infante"
                                                               requiredMessage="Campo precio infante requerido"
                                                               value="#{tourEditManager.tour.infantPrice}"
                                                               minValue="0"/>
                                                <p:outputLabel for="infantDescription"
                                                               value="Descripción Infante"/>
                                                <p:inputText id="infantDescription"
                                                             required="true"

                                                             placeholder="Descripción de infante"
                                                             requiredMessage="Campo descripción de infante requerido"
                                                             value="#{tourEditManager.tour.infantsDescription}"/>
                                                <p:outputLabel for="transfer"
                                                               value="Transportación Incluida"/>
                                                <p:selectBooleanButton id="transfer"
                                                                       styleClass="defaultButton"
                                                                       onLabel="Si"
                                                                       offLabel="No"
                                                                       value="#{tourEditManager.tour.isTransportationIncluded}"/>
                                                <p:outputLabel for="transfernotes"
                                                               value="Notas de transportación"/>
                                                <p:inputTextarea id="transfernotes"
                                                                 maxlength="300"
                                                                 rows="5"
                                                                 required="false"
                                                                 requiredMessage="Campo notas transportación requires"
                                                                 placeholder="Notas importantes de la transportación"
                                                                 value="#{tourEditManager.tour.transportationNotes}"/>
                                                <p:outputLabel for="childrenAllowed"
                                                               value="Niños pueden hacer actividad?"/>
                                                <p:selectBooleanButton id="childrenAllowed"
                                                                       onLabel="Si"
                                                                       styleClass='defaultButton'
                                                                       offLabel="No"
                                                                       value="#{tourEditManager.tour.childrenAllowed}"/>
                                                <p:outputLabel for="infantsAllowed"
                                                               value="Infantes pueden hacer la actividad?"/>
                                                <p:selectBooleanButton id="infantsAllowed"
                                                                       styleClass='defaultButton'
                                                                       onLabel="Si"
                                                                       offLabel="No"
                                                                       value="#{tourEditManager.tour.infantsAllowed}"/>
                                            </p:panelGrid>
                                        </p:fieldset>


                                        <p:fieldset legend="Operación">
                                            <p:panelGrid columns="2"
                                                         columnClasses="labelColumn, inputColumn"
                                                         layout="grid"
                                                         class='ui-noborder'>
                                                <p:outputLabel for="publicDiscount"
                                                               value="Descuento al público"/>
                                                <p:inputNumber id="publicDiscount"
                                                               decimalPlaces="2"
                                                               decimalSeparator="."
                                                               thousandSeparator=","
                                                               required="true"
                                                               emptyValue="%"
                                                               symbolPosition="s"
                                                               symbol="%"
                                                               value="#{tourEditManager.tour.publicDiscount}"
                                                               minValue="0"/>
                                                <p:outputLabel for="operationalprice"
                                                               value="Costo operacion adulto"/>
                                                <p:inputNumber id="operationalprice"
                                                               decimalPlaces="2"
                                                               decimalSeparator="."
                                                               thousandSeparator=","
                                                               required="true"
                                                               emptyValue="$"
                                                               symbol="$"
                                                               value="#{tourEditManager.tour.operationalCost}"
                                                               minValue="0"/>
                                                <p:outputLabel for="minSalePrice"
                                                               value="Precio mínimo a la venta adulto"/>
                                                <p:inputNumber id="minSalePrice"
                                                               decimalPlaces="2"
                                                               decimalSeparator="."
                                                               thousandSeparator=","
                                                               required="true"
                                                               emptyValue="$"
                                                               symbol="$"
                                                               value="#{tourEditManager.tour.minSalePrice}"
                                                               minValue="0"/>
                                                <p:outputLabel for="operationalpriceChild"
                                                               value="Costo operación niño"/>
                                                <p:inputNumber id="operationalpriceChild"
                                                               decimalPlaces="2"
                                                               decimalSeparator="."
                                                               thousandSeparator=","
                                                               required="true"
                                                               emptyValue="$"
                                                               symbol="$"
                                                               value="#{tourEditManager.tour.operationalCostChild}"
                                                               minValue="0"/>
                                                <p:outputLabel for="minSalePriceChild"
                                                               value="Precio mínimo venta niño"/>
                                                <p:inputNumber id="minSalePriceChild"
                                                               decimalPlaces="2"
                                                               decimalSeparator="."
                                                               thousandSeparator=","
                                                               required="true"
                                                               emptyValue="$"
                                                               symbol="$"
                                                               value="#{tourEditManager.tour.minSalePriceChild}"
                                                               minValue="0"/>
                                                <p:outputLabel for="operationalpriceInfant"
                                                               value="Costo operación infante"/>
                                                <p:inputNumber id="operationalpriceInfant"
                                                               decimalPlaces="2"
                                                               decimalSeparator="."
                                                               thousandSeparator=","
                                                               required="true"
                                                               emptyValue="$"
                                                               symbol="$"
                                                               value="#{tourEditManager.tour.operationalCostInfant}"
                                                               minValue="0"/>
                                                <p:outputLabel for="minSalePriceInfant"
                                                               value="Precio mínimo venta infante"/>
                                                <p:inputNumber id="minSalePriceInfant"
                                                               decimalPlaces="2"
                                                               decimalSeparator="."
                                                               thousandSeparator=","
                                                               required="true"
                                                               emptyValue="$"
                                                               symbol="$"
                                                               value="#{tourEditManager.tour.minSalePriceInfant}"
                                                               minValue="0"/>
                                            </p:panelGrid>
                                        </p:fieldset>
                                        <p:fieldset legend="Representantes">
                                            <p:panelGrid columnClasses="labelColumn, inputColumn"
                                                         class='ui-noborder'
                                                         layout="grid"
                                                         columns='2'>
                                                <p:outputLabel for="maxDiscount"
                                                               value="Descuento máximo"/>
                                                <p:inputNumber id="maxDiscount"
                                                               decimalPlaces="2"
                                                               decimalSeparator="."
                                                               thousandSeparator=","
                                                               required="true"
                                                               emptyValue="%"
                                                               symbolPosition="s"
                                                               symbol="%"
                                                               value="#{tourEditManager.tour.maxDiscountAllowed}"
                                                               minValue="0"/>
                                                <p:outputLabel for="repCommission"
                                                               value="Comisión representante"/>
                                                <p:inputNumber id="repCommission"
                                                               decimalPlaces="2"
                                                               decimalSeparator="."
                                                               thousandSeparator=","
                                                               required="true"
                                                               emptyValue="%"
                                                               symbolPosition="s"
                                                               symbol="%"
                                                               value="#{tourEditManager.tour.repCommissionFullPrice}"
                                                               minValue="0"/>
                                                <p:outputLabel for="repCommissionDiscount"
                                                               value="Comisión representante con descuento"/>
                                                <p:inputNumber id="repCommissionDiscount"
                                                               decimalPlaces="2"
                                                               decimalSeparator="."
                                                               thousandSeparator=","
                                                               required="true"
                                                               emptyValue="%"
                                                               symbolPosition="s"
                                                               symbol="%"
                                                               value="#{tourEditManager.tour.repCommissionDiscount}"
                                                               minValue="0"/>
                                            </p:panelGrid>

                                        </p:fieldset>
                                    </div>
                                </p:outputPanel>



                            </p:tab>
                            <p:tab>
                                <f:facet name="title">
                                    <i class="fas fa-file-alt"></i>&nbsp;Detalles
                                </f:facet>
                                <p:outputPanel styleClass="outputPanel detallesPanel">
                                    <div class='card'>
                                        <h5>Detalles</h5>
                                        <p:panelGrid columns="2"
                                                     columnClasses="labelColumn, inputColumn"
                                                     layout="grid"
                                                     class='ui-noborder'>
                                            <p:outputLabel for="itinerary"
                                                           value="Itinerario"/>
                                            <p:inputTextarea id="itinerary"
                                                             rows="5"
                                                             maxlength="490"
                                                             placeholder="Itinerario tour"
                                                             required="false"
                                                             requiredMessage="Campo itinerario requerido"
                                                             value="#{tourEditManager.tour.itinerary}"/>
                                            <p:outputLabel for="includes"
                                                           value="Qué incluye"/>
                                            <p:inputTextarea id="includes"
                                                             rows="5"
                                                             placeholder="Lo que incluye el tour"
                                                             maxlength="490"
                                                             required="false"
                                                             requiredMessage="Campo incluye requerido"
                                                             value="#{tourEditManager.tour.includes}" />
                                            <p:outputLabel for="excludes"
                                                           value="Excluye"/>
                                            <p:inputTextarea id="excludes"
                                                             rows="5"
                                                             placeholder="Excluye"
                                                             maxlength="490"
                                                             required="false"
                                                             requiredMessage="Campo excluye requerido"
                                                             value="#{tourEditManager.tour.excludes}"/>
                                            <p:outputLabel for="recommendations"
                                                           value="Recomendaciones"/>
                                            <p:inputTextarea id="recommendations"
                                                             rows="5"
                                                             placeholder="Recomendaciones para el tour"
                                                             required="false"
                                                             maxlength="490"
                                                             requiredMessage="Campo recomendaciones requerido"
                                                             value="#{tourEditManager.tour.recommendations}"/>
                                            <p:outputLabel for="regulations"
                                                           value="Regulaciones"/>
                                            <p:inputTextarea id="regulations"
                                                             rows="5"
                                                             placeholder="Regulaciones"
                                                             maxlength="490"
                                                             required="false"
                                                             requiredMessage="Campo regulaciones requerido"
                                                             value="#{tourEditManager.tour.regulations}"/>
                                            <p:outputLabel id="restrictionsLabel" for="restrictions"
                                                           value="Restricciones"/>
                                            <p:inputTextarea id="restrictions"
                                                             rows="5"
                                                             placeholder="Restricciones"
                                                             required="false"
                                                             maxlength="490"
                                                             requiredMessage="Campo restricciones"
                                                             value="#{tourEditManager.tour.restrictions}" />
                                        </p:panelGrid>
                                    </div>
                                </p:outputPanel>
                            </p:tab>
                            <p:tab>
                                <f:facet name="title">
                                    <i class="fas fa-language"></i>&nbsp;Lenguaje
                                </f:facet>
                                <p:outputPanel styleClass='outputPanel lenguajePanel'>
                                    <div class='card'>
                                        <h5>Lenguaje</h5>
                                        <p:panelGrid columns="2"
                                                     columnClasses="labelColumn, inputColumn"
                                                     layout="grid"
                                                     class='ui-noborder'>
                                            <p:outputLabel for="descriptionLangSelect"
                                                           value="Lenguaje de la descripción del tour"/>
                                            <p:selectOneMenu id="descriptionLangSelect"
                                                             value="#{tourEditManager.tour.descriptionLang}"
                                                             required="true"
                                                             requiredMessage="Campo lenguaje descripción requerido"
                                                             >
                                                <f:selectItem itemLabel="Seleccionar uno..." itemValue="#{null}"/>
                                                <f:selectItems value="#{localeSelectorManager.availableLanguages}"/>
                                            </p:selectOneMenu>
                                            <p:outputLabel for="langSelect"
                                                           value="Lenguaje en que se opera el tour"/>
                                            <p:selectOneMenu id="langSelect"
                                                             value="#{tourEditManager.tour.lang}"
                                                             required="true"
                                                             requiredMessage="Campo lenguaje del tour requerido"
                                                             >
                                                <f:selectItem itemLabel="Seleccionar una opción..." itemValue="#{null}"/>
                                                <f:selectItems value="#{localeSelectorManager.availableLanguages}"/>
                                            </p:selectOneMenu>
                                            <p:outputLabel for="latitude"
                                                           value="Latitud"/>
                                            <p:inputText id="latitude"
                                                         value="#{tourEditManager.tour.latitude}"
                                                         required="false"
                                                         placeholder="Latitud"
                                                         requiredMessage="Campo latitud requerido"/>
                                            <p:outputLabel for="longitude"
                                                           value="Longitud"/>
                                            <p:inputText id="longitude"
                                                         value="#{tourEditManager.tour.longitude}"
                                                         placeholder="Longitud"
                                                         requiredMessage="Campo logitud requerido"
                                                         required="false"/>
                                        </p:panelGrid>
                                    </div>
                                </p:outputPanel>



                            </p:tab>
                            <p:tab>
                                <f:facet name="title">
                                    <i class="fas fa-search"></i>&nbsp;Búsqueda
                                </f:facet>
                                <p:outputPanel styleClass="outputPanel busquedaPanel">
                                    <div class='card'>
                                        <h5>Opciones de Búsqueda</h5>
                                        <p:panelGrid columns="2"
                                                     columnClasses="labelColumn, inputColumn"
                                                     layout="grid"
                                                     class='ui-noborder'>
                                            <p:outputLabel for="tourScale"
                                                           value="Escala"/>
                                            <p:inputText id="tourScale"
                                                         value="#{tourEditManager.tour.tourScale}"
                                                         required="true"/>
                                            <p:outputLabel for="keywords"
                                                           value="Palabras clave"/>
                                            <p:inputTextarea id="keywords"
                                                             rows="5"
                                                             maxlength="490"
                                                             required="false"
                                                             placeholder="Palabras para la búsqueda"
                                                             requiredMessage="Campo palabras clave requerido"
                                                             value="#{tourEditManager.tour.searchKeywords}"/>
                                        </p:panelGrid>
                                        <p:fieldset legend="Clasificación">
                                            <p:panelGrid columns="4"
                                                         layout="grid"
                                                         class='ui-noborder'>
                                                <p:outputLabel value="Acuático"/>
                                                <p:selectBooleanCheckbox value='#{tourEditManager.tour.aquatic}'/>
                                                <p:outputLabel value="Cultural"/>
                                                <p:selectBooleanCheckbox value='#{tourEditManager.tour.cultural}'/>
                                                <p:outputLabel value="Arquelógico"/>
                                                <p:selectBooleanCheckbox value='#{tourEditManager.tour.archeological}'/>
                                                <p:outputLabel value="Cenotes"/>
                                                <p:selectBooleanCheckbox value='#{tourEditManager.tour.underground}'/>
                                                <p:outputLabel value="Vida de noche"/>
                                                <p:selectBooleanCheckbox value='#{tourEditManager.tour.night}'/>
                                                <p:outputLabel value="Aventura"/>
                                                <p:selectBooleanCheckbox value='#{tourEditManager.tour.adventure}'/>
                                                <p:outputLabel value="City Tour"/>
                                                <p:selectBooleanCheckbox value='#{tourEditManager.tour.cityTour}'/>
                                                <p:outputLabel value="Gastronomía"/>
                                                <p:selectBooleanCheckbox value='#{tourEditManager.tour.gastronomy}'/>
                                                <p:outputLabel value="Golf"/>
                                                <p:selectBooleanCheckbox value='#{tourEditManager.tour.golf}'/>
                                                <p:outputLabel value="Nado con Delfines"/>
                                                <p:selectBooleanCheckbox value='#{tourEditManager.tour.dolphinSwim}'/>
                                                <p:outputLabel value="Otras Actividades"/>
                                                <p:selectBooleanCheckbox value='#{tourEditManager.tour.otherActivities}'/>
                                                <p:outputLabel value="Parques"/>
                                                <p:selectBooleanCheckbox value='#{tourEditManager.tour.park}'/>
                                                <p:outputLabel value="Botes"/>
                                                <p:selectBooleanCheckbox value='#{tourEditManager.tour.boat}'/>
                                                <p:outputLabel value="Pesca"/>
                                                <p:selectBooleanCheckbox value='#{tourEditManager.tour.fishing}'/>
                                                <p:outputLabel value="Fauna"/>
                                                <p:selectBooleanCheckbox value='#{tourEditManager.tour.animalTour}'/>
                                                <p:outputLabel value="Buceo"/>
                                                <p:selectBooleanCheckbox value='#{tourEditManager.tour.scuba}'/>
                                                <p:outputLabel value="Snorkel"/>
                                                <p:selectBooleanCheckbox value='#{tourEditManager.tour.snorkel}'/>
                                                <p:outputLabel value="ATVs"/>
                                                <p:selectBooleanCheckbox value='#{tourEditManager.tour.atvs}'/>
                                                <p:outputLabel value="Paquete"/>
                                                <p:selectBooleanCheckbox value='#{tourEditManager.tour.packageTour}'/>
                                                <p:outputLabel value="Cancun"/>
                                                <p:selectBooleanCheckbox value='#{tourEditManager.tour.cancun}'/>
                                                <p:outputLabel value="Cozumel"/>
                                                <p:selectBooleanCheckbox value='#{tourEditManager.tour.cozumel}'/>
                                                <p:outputLabel value="Isla Mujeres"/>
                                                <p:selectBooleanCheckbox value='#{tourEditManager.tour.islaMujeres}'/>
                                                <p:outputLabel value="Yucatan"/>
                                                <p:selectBooleanCheckbox value='#{tourEditManager.tour.yucatan}'/>
                                                <p:outputLabel value="Matutino"/>
                                                <p:selectBooleanCheckbox value='#{tourEditManager.tour.morning}'/>
                                                <p:outputLabel value="Vespertino"/>
                                                <p:selectBooleanCheckbox value='#{tourEditManager.tour.afternoon}'/>
                                                <p:outputLabel value="Dia Completo"/>
                                                <p:selectBooleanCheckbox value='#{tourEditManager.tour.fullday}'/>
                                                <p:outputLabel value="Medio Día"/>
                                                <p:selectBooleanCheckbox value='#{tourEditManager.tour.halfday}'/>
                                            </p:panelGrid>
                                        </p:fieldset>
                                        <p:fieldset legend="Días de Operación">
                                            <p:panelGrid columns="4"
                                                         layout="grid"
                                                         class='ui-noborder'>
                                                <p:outputLabel value="Lunes"/>
                                                <p:selectBooleanCheckbox value='#{tourEditManager.tour.monday}'/>
                                                <p:outputLabel value="Martes"/>
                                                <p:selectBooleanCheckbox value='#{tourEditManager.tour.tuesday}'/>
                                                <p:outputLabel value="Miércoles"/>
                                                <p:selectBooleanCheckbox value='#{tourEditManager.tour.wednesday}'/>
                                                <p:outputLabel value="Jueves"/>
                                                <p:selectBooleanCheckbox value='#{tourEditManager.tour.thursday}'/>
                                                <p:outputLabel value="Viernes"/>
                                                <p:selectBooleanCheckbox value='#{tourEditManager.tour.friday}'/>
                                                <p:outputLabel value="Sábado"/>
                                                <p:selectBooleanCheckbox value='#{tourEditManager.tour.saturday}'/>
                                                <p:outputLabel value="Domingo"/>
                                                <p:selectBooleanCheckbox value='#{tourEditManager.tour.sunday}'/>
                                            </p:panelGrid>
                                        </p:fieldset>
                                    </div>
                                </p:outputPanel>

                            </p:tab>
                            <p:tab>
                                <f:facet name="title">
                                    <i class="fas fa-camera"></i>&nbsp;Galería
                                </f:facet>
                                <p:outputPanel styleClass="outputPanel">
                                    <div class='card'>
                                        <h5>Foto de Búsqueda</h5>
                                        <p:panelGrid columnClasses="labelColumn, inputColumn"
                                                     class="ui-noborder"
                                                     layout="grid"
                                                     columns="2">
                                            <p:outputLabel value='Seleccionar Foto'/>
                                            <p:fileUpload id="searchPhotoUploader"
                                                          auto="true"
                                                          allowTypes="/(\.|\/)(gif|jpe?g|png)$/"
                                                          multiple="true"
                                                          fileUploadListener="#{photoFileUploadController.uploadSingle}"
                                                          update="searchPhotoFileName"
                                                          value="Subir Foto"
                                                          mode="advanced">
                                            </p:fileUpload>
                                            <h:panelGroup/>
                                            <h:outputText id='searchPhotoFileName' value='#{photoFileUploadController.file.fileName}'/>
                                        </p:panelGrid>
                                    </div>
                                    <div class="card">
                                        <h5>Galería de Fotos</h5>
                                        <p:panelGrid columnClasses="labelColumn, inputColumn"
                                                     class="ui-noborder"
                                                     layout="grid"
                                                     columns="2">
                                            <p:outputLabel value="Agregar Foto"/>
                                            <h:panelGroup>
                                                <p:fileUpload id="fileUploader"
                                                              auto="true"
                                                              allowTypes="/(\.|\/)(gif|jpe?g|png)$/"
                                                              multiple="true"
                                                              fileUploadListener="#{photoFileUploadController.upload}"
                                                              update="photosTable"
                                                              value="Subir Foto"
                                                              mode="advanced">
                                                </p:fileUpload>
                                                <p:dataTable id="photosTable"
                                                             value='#{photoFileUploadController.uploadedFiles}'
                                                             var='file'>
                                                    <f:facet name="header">
                                                        Agregar fotos a galería
                                                    </f:facet>
                                                    <p:column>
                                                        <h:outputText value='#{file.fileName}'/>
                                                    </p:column>
                                                    <p:column styleClass='column80'>
                                                        <h:outputText value='#{file.size}'/>
                                                    </p:column>
                                                    <p:column styleClass='column40'>
                                                        <p:commandButton icon='fa fa-trash'
                                                                         actionListener="#{photoFileUploadController.remove(file)}"
                                                                         update="photosTable">
                                                            <p:confirm header="Remover Foto" message="Remover Foto?"/>
                                                        </p:commandButton>
                                                    </p:column>
                                                    <f:facet name='footer'>
                                                        <p:commandButton icon='fa fa-trash'
                                                                         styleClass='defaultButton'
                                                                         rendered='#{not empty photoFileUploadController.uploadedFiles}'
                                                                         value='Remover todas'
                                                                         actionListener="#{photoFileUploadController.reset()}"
                                                                         update="photosTable"/>
                                                    </f:facet>
                                                </p:dataTable>
                                            </h:panelGroup>
                                        </p:panelGrid>
                                        <p:fieldset legend="Fotos en Tour">
                                            <p:dataTable id='fotosEnTour' value='#{tourEditManager.photos}'
                                                         var="photo">
                                                <p:column>
                                                    <h:outputText value='#{photo.tour.name}'/>
                                                </p:column>
                                                <p:column>
                                                    <h:outputText value='#{photo.description}'/>
                                                </p:column>
                                                <p:column styleClass='column40'>
                                                    <p:commandButton icon='fa fa-trash'
                                                                     actionListener="#{tourEditManager.removePhoto(photo)}"
                                                                     update="fotosEnTour">
                                                        <p:confirm header="Remover Foto" message="Remover Foto?"/>
                                                    </p:commandButton>
                                                </p:column>
                                            </p:dataTable>
                                        </p:fieldset>
                                    </div>
                                </p:outputPanel>

                            </p:tab>
                        </p:tabView>
                    </p:outputPanel>
                    <div class='card'>
                        <h5>Opciones</h5>
                        <p:commandButton styleClass='defaultButton'
                                         value='Guardar'
                                         icon='fa fa-save'
                                         actionListener="#{tourEditManager.edit}"
                                         update="@(.outputPanel) growl">
                            <p:confirm header="Edit new" message="Edit new tour?"/>
                        </p:commandButton>
                        <p:confirmDialog global="true" showEffect="fade" hideEffect="fade">
                            <p:commandButton value="Yes" type="button" styleClass="ui-confirmdialog-yes" icon="ui-icon-check" />
                            <p:commandButton value="No" type="button" styleClass="ui-confirmdialog-no" icon="ui-icon-close" />
                        </p:confirmDialog>

                    </div>
                </h:form>
            </div>
            <div class='card'>
                <h5>Opciones de Servicio #{tourEditManager.tour.name}</h5>
                <p:tabView>
                    <p:tab title="Horarios">
                        <ui:include src="includes/horarios/horarios.xhtml"/>
                    </p:tab>
                    <p:tab title='IMAs'>
                        <p:outputPanel class="imasPorAgenciaPanel">
                            <p:panelGrid columns="2" class="ui-noborder" layout="grid">
                                <p:fieldset legend="IMA General" collapsed="true"
                                            toggleable="true">
                                    <p:outputPanel class="imaGeneralPanel">
                                        <div class="card">
                                            <h:form>
                                                <p:panelGrid columns="2"
                                                             columnClasses="width30p text-right, width70p"
                                                             class="ui-noborder" layout="grid">

                                                    <p:outputLabel value="IMA USD:" for="imaUSD"/>
                                                    <p:inputNumber id="imaUSD" decimalPlaces="2" decimalSeparator="."
                                                                   required="true"
                                                                   requiredMessage="Precio Adulto requerido"
                                                                   minValue="0.00"
                                                                   symbol="$"
                                                                   thousandSeparator=","
                                                                   value="#{tourEditManager.tour.imaAdultoUSD}"/>
                                                    <p:outputLabel value="IMA Niño USD:" for="imaNinoUSD"/>
                                                    <p:inputNumber id="imaNinoUSD" decimalPlaces="2" decimalSeparator="."
                                                                   required="true"
                                                                   requiredMessage="Precio Adulto requerido"
                                                                   minValue="0.00"
                                                                   symbol="$"
                                                                   thousandSeparator=","
                                                                   value="#{tourEditManager.tour.imaNinoUSD}"/>
                                                    <h:panelGroup></h:panelGroup>
                                                    <p:commandButton value="Guardar" icon="fa fa-save"
                                                                     styleClass="defaultButton"
                                                                     actionListener="#{tourEditManager.edit}"
                                                                     update="@(.imaGeneralPanel) growl"/>
                                                </p:panelGrid>
                                            </h:form>
                                        </div>
                                    </p:outputPanel>
                                </p:fieldset>
                                <p:fieldset legend="Crear Nuevo IMA para Agencia" collapsed="true"
                                            toggleable="true">
                                    <div class="card">
                                        <h:form>
                                            <p:outputPanel styleClass="newImaPanel">
                                                <p:panelGrid columns="2"
                                                             columnClasses="width30p text-right, width70p"
                                                             class="ui-noborder" layout="grid">
                                                    <p:outputLabel value="Agencia:" for="agencia"/>
                                                    <agency:agencyAutocomplete id='agencia' value="#{iMAController.agencia}">
                                                        <p:ajax event="itemSelect" process="@this"/>
                                                    </agency:agencyAutocomplete>
                                                    <p:outputLabel value="IMA USD:" for="imaUSD"/>
                                                    <p:inputNumber id="imaUSD" decimalPlaces="2" decimalSeparator="."
                                                                   required="true"
                                                                   requiredMessage="Precio Adulto requerido"
                                                                   minValue="0.00"
                                                                   symbol="$"
                                                                   thousandSeparator=","
                                                                   value="#{iMAController.imaAdultoUSD}"/>
                                                    <p:outputLabel value="IMA Niño USD:" for="imaNinoUSD"/>
                                                    <p:inputNumber id="imaNinoUSD" decimalPlaces="2" decimalSeparator="."
                                                                   required="true"
                                                                   requiredMessage="Precio Adulto requerido"
                                                                   minValue="0.00"
                                                                   symbol="$"
                                                                   thousandSeparator=","
                                                                   value="#{iMAController.imaNinoUSD}"/>
                                                    <h:panelGroup></h:panelGroup>
                                                    <p:commandButton value="Guardar" icon="fa fa-save"
                                                                     styleClass="defaultButton"
                                                                     actionListener="#{iMAController.crearNuevo}"
                                                                     update="@(.imasTablePanel) @(.newImaPanel) growl"/>
                                                </p:panelGrid>
                                            </p:outputPanel>

                                        </h:form>
                                    </div>

                                </p:fieldset>








                            </p:panelGrid>

                            <div class="card">
                                <h5>IMAs por Agencia</h5>
                                <h:form>
                                    <p:outputPanel class="imasTablePanel">
                                        <p:dataTable id="imasTable"
                                                     editable="true"
                                                     selection="#{iMAController.selectedIMA}"
                                                     selectionMode="single"
                                                     rowKey="#{ima.id}"
                                                     value="#{iMAController.imas}"
                                                     var="ima">
                                            <p:ajax event="rowEdit" listener="#{iMAController.rowEdit}" update="imasTable growl"/>
                                            <p:column headerText="Agencia">
                                                <p:cellEditor>
                                                    <f:facet name="output">
                                                        <h:outputText value="#{ima.agencia.name}"/>
                                                    </f:facet>
                                                    <f:facet name="input">
                                                        <p:autoComplete id="agencia"
                                                                        required="true"
                                                                        requiredMessage="Agencia Requerido"
                                                                        value="#{ima.agencia}"
                                                                        converter="#{agencyConverter}"
                                                                        title="Agencia"
                                                                        var="agenciaItem"
                                                                        minQueryLength="3"
                                                                        itemLabel="#{agenciaItem.name}"
                                                                        itemValue="#{agenciaItem}"
                                                                        completeMethod="#{agencyListManager.filterAgency}"/>
                                                    </f:facet>
                                                </p:cellEditor>

                                            </p:column>
                                            <p:column headerText="USD Adulto RVM/CZM" styleClass="centerAligned">
                                                <p:cellEditor>
                                                    <f:facet name="output">
                                                        <h:outputText value="#{ima.imaAdultoUSD}">
                                                            <f:convertNumber type="currency"
                                                                             locale="#{localeSelectorManager.locale}"
                                                                             currencySymbol="$"
                                                                             maxFractionDigits="2"
                                                                             minFractionDigits="2"/>
                                                        </h:outputText>
                                                    </f:facet>
                                                    <f:facet name="input">
                                                        <p:inputNumber decimalPlaces="2" decimalSeparator="."
                                                                       required="true"
                                                                       requiredMessage="Precio Adulto requerido"
                                                                       minValue="0.00"
                                                                       symbol="$"
                                                                       thousandSeparator=","
                                                                       value="#{ima.imaAdultoUSD}"/>
                                                    </f:facet>
                                                </p:cellEditor>

                                            </p:column>
                                            <p:column headerText="USD Niño RVM/CZM" styleClass="centerAligned">
                                                <p:cellEditor>
                                                    <f:facet name="output">
                                                        <h:outputText value="#{ima.imaNinoUSD}">
                                                            <f:convertNumber type="currency"
                                                                             locale="#{localeSelectorManager.locale}"
                                                                             currencySymbol="$"
                                                                             maxFractionDigits="2"
                                                                             minFractionDigits="2"/>
                                                        </h:outputText>
                                                    </f:facet>
                                                    <f:facet name="input">
                                                        <p:inputNumber decimalPlaces="2" decimalSeparator="."
                                                                       required="true"
                                                                       requiredMessage="Precio Adulto requerido"
                                                                       minValue="0.00"
                                                                       symbol="$"
                                                                       thousandSeparator=","
                                                                       value="#{ima.imaNinoUSD}"/>
                                                    </f:facet>
                                                </p:cellEditor>
                                            </p:column>



                                            <p:column headerText="USD Adulto CZM" styleClass="centerAligned">
                                                <p:cellEditor>
                                                    <f:facet name="output">
                                                        <h:outputText value="#{ima.imaAdultoCZM}">
                                                            <f:convertNumber type="currency"
                                                                             locale="#{localeSelectorManager.locale}"
                                                                             currencySymbol="$"
                                                                             maxFractionDigits="2"
                                                                             minFractionDigits="2"/>
                                                        </h:outputText>
                                                    </f:facet>
                                                    <f:facet name="input">
                                                        <p:inputNumber decimalPlaces="2" decimalSeparator="."
                                                                       required="true"
                                                                       requiredMessage="Precio Adulto requerido"
                                                                       minValue="0.00"
                                                                       symbol="$"
                                                                       thousandSeparator=","
                                                                       value="#{ima.imaAdultoCZM}"/>
                                                    </f:facet>
                                                </p:cellEditor>

                                            </p:column>
                                            <p:column headerText="USD Niño CZM" styleClass="centerAligned">
                                                <p:cellEditor>
                                                    <f:facet name="output">
                                                        <h:outputText value="#{ima.imaNinoCZM}">
                                                            <f:convertNumber type="currency"
                                                                             locale="#{localeSelectorManager.locale}"
                                                                             currencySymbol="$"
                                                                             maxFractionDigits="2"
                                                                             minFractionDigits="2"/>
                                                        </h:outputText>
                                                    </f:facet>
                                                    <f:facet name="input">
                                                        <p:inputNumber decimalPlaces="2" decimalSeparator="."
                                                                       required="true"
                                                                       requiredMessage="Precio Adulto requerido"
                                                                       minValue="0.00"
                                                                       symbol="$"
                                                                       thousandSeparator=","
                                                                       value="#{ima.imaNinoCZM}"/>
                                                    </f:facet>
                                                </p:cellEditor>
                                            </p:column>

                                            <p:column styleClass="column30 centerAligned">
                                                <p:rowEditor/>
                                            </p:column>
                                        </p:dataTable>
                                        <p:contextMenu for="imasTable">
                                            <p:menuitem value="Delete"
                                                        update="@(.imasTablePanel) growl"
                                                        icon="fa fa-trash"
                                                        actionListener="#{iMAController.deleteSelectedIMA}">
                                                <p:confirm header="Confirmar"
                                                           message="¿Borrar de base de datos? "
                                                           icon="fas fa-exclamation-triangle"/>
                                            </p:menuitem>
                                        </p:contextMenu>
                                    </p:outputPanel>

                                </h:form>
                            </div>

                        </p:outputPanel>
                    </p:tab>

                </p:tabView>
            </div>




        </ui:define>
    </ui:composition>
</html>
