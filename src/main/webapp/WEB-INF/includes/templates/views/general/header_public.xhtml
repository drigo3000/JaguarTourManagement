<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <h:form id="publicHeaderForm">
        <nav class="navbar navbar-default">
            <div class="container-fluid">
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#myNavbar">
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <p:link class="navbar-brand" outcome="/index">
                        <i class="fas fa-street-view navIcon"></i>&nbsp;
                        #{globalConfigController.cg.enterpriseName}
                    </p:link>

                </div>
                <div class="collapse navbar-collapse" id="myNavbar">

                    <ul class="nav navbar-nav">
                        <li>
                            <p:link  styleClass="nav-link #{request.getParameter('p').equals('aboutus')?'active':''}" outcome="/about">
                                <i class="fas fa-info-circle"></i>&nbsp;
                                #{msgs['aboutus']}
                                <f:param name="p" value="aboutus"/>
                            </p:link>
                        </li>
                        <li role="separator" class="divider"></li>
                        <li>
                            <p:link  styleClass="nav-link #{request.getParameter('p').equals('contactus')?'active':''}" outcome="/contactus">
                                <i class="fas fa-envelope-open"></i>&nbsp;
                                #{msgs['contact']}
                                <f:param name="p" value="contactus"/>
                            </p:link>
                        </li>

                    </ul>
                    <ul class="nav navbar-nav navbar-right">
                        <li class="dropdown">
                            <a href="#" class="dropdown-toggle"
                               data-toggle="dropdown" role="button"
                               aria-haspopup="true"
                               aria-expanded="false"> <i class="fas fa-language"></i>&nbsp;#{msgs.language} <span class="caret"></span></a>
                            <ul class="dropdown-menu">
                                <li>
                                    <p:link outcome="/index">
                                        <i class="fas fa-language"></i>&nbsp;
                                        English
                                        <f:param name="p" value="home"/>
                                        <f:param name="lo" value="en"/>
                                    </p:link>
                                </li>
                                <li role="separator" class="divider"></li>
                                <li>
                                    <p:link  outcome="/index">
                                        <i class="fas fa-language"></i>&nbsp;
                                        Espa√±ol
                                        <f:param name="p" value="home"/>
                                        <f:param name="lo" value="es"/>
                                    </p:link>
                                </li>
                            </ul>
                        </li>
                        <li class="dropdown">
                            <a href="#" class="dropdown-toggle"
                               data-toggle="dropdown" role="button"
                               aria-haspopup="true"
                               aria-expanded="false"> <i class="fas fa-dollar-sign"></i>&nbsp;#{msgs['currency']} <span class="caret"></span></a>
                            <ul class="dropdown-menu">
                                <li>
                                    <p:link outcome="/index">
                                        <i class="fas fa-dollar-sign"></i>&nbsp;Dollar
                                        <f:param name="p" value="home"/>
                                        <f:param name="cc" value="usd"/>
                                    </p:link>
                                </li>
                                <li role="separator" class="divider"></li>
                                <li>
                                    <p:link  outcome="/index">
                                        <i class="fas fa-dollar-sign"></i>&nbsp;Peso
                                        <f:param name="p" value="home"/>
                                        <f:param name="cc" value="mxn"/>
                                    </p:link>
                                </li>
                            </ul>
                        </li>
                        <li class="dropdown">
                            <a href="#" class="dropdown-toggle"
                               data-toggle="dropdown" role="button"
                               aria-haspopup="true"
                               aria-expanded="false"><i class="fas fa-user"></i>&nbsp;
                                <h:panelGroup rendered="#{not empty sessionInfo.currentUser}">
                                    <h:outputText value="#{msgs['profile']}"/>
                                </h:panelGroup>
                                <h:panelGroup rendered="#{empty sessionInfo.currentUser}">
                                    <h:outputText value="#{msgs['login']}"/>
                                </h:panelGroup>
                                <span class="caret"></span>
                            </a>

                            <ul class="dropdown-menu">
                                <h:panelGroup rendered="#{empty sessionInfo.currentUser}">
                                    <li>
                                        <p:link  styleClass="nav-link" outcome="/register">
                                            <i class="glyphicon glyphicon-user"></i>&nbsp;<h:outputText value="#{msgs['register']}"/>
                                        </p:link>
                                    </li>
                                    <li role="separator" class="divider"></li>
                                    <li>
                                        <p:link  styleClass="nav-link" outcome="/priv/index">
                                            <i class="glyphicon glyphicon-user"></i>&nbsp;<h:outputText value="#{msgs['login']}"/>
                                        </p:link>
                                    </li>
                                </h:panelGroup>
                                <h:panelGroup rendered="#{not empty sessionInfo.currentUser}">
                                    <li>
                                        <p:link  styleClass="nav-link" outcome="/priv/index">
                                            <i class="glyphicon glyphicon-user"></i>&nbsp;<h:outputText value="#{msgs['home']}"/>
                                        </p:link>
                                    </li>
                                    <li role="separator" class="divider"></li>
                                    <li>
                                        <p:link  styleClass="nav-link" outcome="/priv/editpassword">
                                            <i class="fas fa-key"></i>&nbsp;<h:outputText value="#{msgs['password']}"/>
                                            <f:param name="id" value="#{sessionInfo.currentUser.login}"/>
                                        </p:link>
                                    </li>
                                    <li role="separator" class="divider"></li>
                                    <h:panelGroup rendered="#{not empty sessionInfo.currentUser}">
                                        <li><p:commandLink  styleClass="nav-link" action="#{logoutManager.invalidateSession}"><i class="fas fa-sign-out-alt"></i>&nbsp; Logout</p:commandLink></li>
                                    </h:panelGroup>

                                </h:panelGroup>

                            </ul>

                        </li>
                    </ul>
                </div>
            </div>
        </nav>
    </h:form>
</html>

